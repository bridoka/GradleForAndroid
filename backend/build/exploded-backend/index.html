<!DOCTYPE html>
<html>
<head>
    <title>Hello, Endpoints!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<script type="text/javascript">
    function showJokes() {
        gapi.client.myApi.showJokes().execute(
          function(response) {
            if (!response.error) {
              document.body.innerHTML = response.result.data;
            }
          }
        );
    }
    // This is called initially
    function init() {
      var apiName = 'myApi';
      var apiVersion = 'v1';
      var apiRoot = 'https://' + window.location.host + '/_ah/api';
      if (window.location.hostname == 'localhost'
          || window.location.hostname == '127.0.0.1'
          || ((window.location.port != "") && (window.location.port > 1023))) {
            // We're probably running against the DevAppServer
            apiRoot = 'http://' + window.location.host + '/_ah/api';
      }
      var callback = function() {
        showJokes();
      }
      gapi.client.load(apiName, apiVersion, callback, apiRoot);
    }

</script>
<!--
 Load the Google APIs Client Library for JavaScript
 More info here : https://developers.google.com/api-client-library/javascript/reference/referencedocs
-->

<script src="https://apis.google.com/js/client.js?onload=init"></script>
</body>
</html>
